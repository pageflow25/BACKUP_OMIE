{% extends "admin/base_site.html" %}
{% load i18n %}

{% block extrahead %}
{{ block.super }}
<style>
    .database-selector {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 15px;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border-bottom: 1px solid #2d3a4f;
    }

    .database-selector label {
        color: #a0aec0;
        font-weight: 500;
        font-size: 13px;
    }

    .database-selector select {
        padding: 6px 12px;
        border: 1px solid #3d4f6f;
        border-radius: 6px;
        background: #0f1624;
        color: #e2e8f0;
        font-size: 13px;
        cursor: pointer;
        transition: all 0.2s;
    }

    .database-selector select:hover {
        border-color: #4299e1;
    }

    .database-selector select:focus {
        outline: none;
        border-color: #4299e1;
        box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
    }

    .database-selector .current-db {
        color: #48bb78;
        font-weight: 600;
        font-size: 13px;
        padding: 4px 10px;
        background: rgba(72, 187, 120, 0.1);
        border-radius: 4px;
    }
</style>
{% endblock %}

{% block content %}
<div class="database-selector">
    <label for="db-select">üè¢ Empresa:</label>
    <form method="post" action="{% url 'select_database' %}" id="db-form">
        {% csrf_token %}
        <select name="database" id="db-select" onchange="this.form.submit()">
            {% for db_key, db_label in request.available_databases.items %}
            {% if db_key == request.current_database %}
            <option value="{{ db_key }}" selected>{{ db_label }}</option>
            {% else %}
            <option value="{{ db_key }}">{{ db_label }}</option>
            {% endif %}
            {% endfor %}
        </select>
    </form>
    <span class="current-db">üìä {{ request.current_database_name }}</span>
</div>
{{ block.super }}
{% endblock %}